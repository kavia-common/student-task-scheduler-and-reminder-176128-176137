{"is_source_file": true, "format": "Python", "description": "This file implements a background scheduler loop for managing reminders. It handles starting, updating, and stopping a thread that periodically checks for due reminders in a database and sends notifications if enabled.", "external_files": ["db", "utils"], "external_methods": ["db.get_due_unsent_reminders", "db.mark_reminder_sent", "log", "notify_placeholder"], "published": ["start_scheduler_once", "update_scheduler_config", "stop_scheduler"], "classes": [], "methods": [{"name": "None _loop()", "description": "Background function running in a thread that periodically checks for due reminders and sends notifications.", "scope": "", "scopeKind": ""}, {"name": "None start_scheduler_once(interval_seconds: int = 60, notifications_enabled: bool = True)", "description": "Initializes and starts the scheduler thread to run the reminder loop at specified intervals.", "scope": "", "scopeKind": ""}, {"name": "None update_scheduler_config(interval_seconds: Optional[int] = None, notifications_enabled: Optional[bool] = None)", "description": "Updates the scheduler's runtime configuration parameters in a thread-safe manner.", "scope": "", "scopeKind": ""}, {"name": "None stop_scheduler()", "description": "Signals the scheduler thread to stop gracefully.", "scope": "", "scopeKind": ""}], "calls": ["log", "db.get_due_unsent_reminders", "notify_placeholder", "db.mark_reminder_sent"], "search-terms": ["scheduler_thread", "reminder", "background loop", "threading", "notifications", "update config", "stop event"], "state": 2, "file_id": 7, "knowledge_revision": 54, "git_revision": "d9bc1d74fad5a50b04a67f1eae8b9d83f92cab0b", "revision_history": [{"15": ""}, {"25": "ba4a713186061856c5a4d88414666dd1bbc3d686"}, {"54": "d9bc1d74fad5a50b04a67f1eae8b9d83f92cab0b"}], "ctags": [{"_type": "tag", "name": "_config_lock", "path": "/home/kavia/workspace/code-generation/student-task-scheduler-and-reminder-176128-176137/task_scheduler_backend/streamlit_app/scheduler.py", "pattern": "/^_config_lock = threading.Lock()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "_interval_seconds", "path": "/home/kavia/workspace/code-generation/student-task-scheduler-and-reminder-176128-176137/task_scheduler_backend/streamlit_app/scheduler.py", "pattern": "/^_interval_seconds: int = 60$/", "language": "Python", "typeref": "typename:int", "kind": "variable"}, {"_type": "tag", "name": "_loop", "path": "/home/kavia/workspace/code-generation/student-task-scheduler-and-reminder-176128-176137/task_scheduler_backend/streamlit_app/scheduler.py", "pattern": "/^def _loop() -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "_notifications_enabled", "path": "/home/kavia/workspace/code-generation/student-task-scheduler-and-reminder-176128-176137/task_scheduler_backend/streamlit_app/scheduler.py", "pattern": "/^_notifications_enabled: bool = True$/", "language": "Python", "typeref": "typename:bool", "kind": "variable"}, {"_type": "tag", "name": "_scheduler_lock", "path": "/home/kavia/workspace/code-generation/student-task-scheduler-and-reminder-176128-176137/task_scheduler_backend/streamlit_app/scheduler.py", "pattern": "/^_scheduler_lock = threading.Lock()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "_scheduler_thread", "path": "/home/kavia/workspace/code-generation/student-task-scheduler-and-reminder-176128-176137/task_scheduler_backend/streamlit_app/scheduler.py", "pattern": "/^_scheduler_thread: Optional[threading.Thread] = None$/", "language": "Python", "typeref": "typename:Optional[threading.Thread]", "kind": "variable"}, {"_type": "tag", "name": "_stop_event", "path": "/home/kavia/workspace/code-generation/student-task-scheduler-and-reminder-176128-176137/task_scheduler_backend/streamlit_app/scheduler.py", "pattern": "/^_stop_event = threading.Event()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "start_scheduler_once", "path": "/home/kavia/workspace/code-generation/student-task-scheduler-and-reminder-176128-176137/task_scheduler_backend/streamlit_app/scheduler.py", "pattern": "/^def start_scheduler_once(interval_seconds: int = 60, notifications_enabled: bool = True) -> None/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "(interval_seconds: int = 60, notifications_enabled: bool = True)"}, {"_type": "tag", "name": "stop_scheduler", "path": "/home/kavia/workspace/code-generation/student-task-scheduler-and-reminder-176128-176137/task_scheduler_backend/streamlit_app/scheduler.py", "pattern": "/^def stop_scheduler() -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "update_scheduler_config", "path": "/home/kavia/workspace/code-generation/student-task-scheduler-and-reminder-176128-176137/task_scheduler_backend/streamlit_app/scheduler.py", "pattern": "/^def update_scheduler_config(interval_seconds: Optional[int] = None, notifications_enabled: Optio/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "(interval_seconds: Optional[int] = None, notifications_enabled: Optional[bool] = None)"}], "hash": "344f874dcc231557043b3ffd8571c7a3", "format-version": 4, "code-base-name": "task_scheduler_backend", "filename": "task_scheduler_backend/streamlit_app/scheduler.py", "fields": [{"name": "_config_lock = threading.Lock()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int _interval_seconds", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "bool _notifications_enabled", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "_scheduler_lock = threading.Lock()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Optional[threading.Thread] _scheduler_thread", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "_stop_event = threading.Event()", "scope": "", "scopeKind": "", "description": "unavailable"}]}