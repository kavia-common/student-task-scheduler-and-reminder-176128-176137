{"is_source_file": true, "format": "Python", "description": "This file implements a scheduler loop and related control functions for handling reminders. It manages threading, configuration, and interaction with a database module to fetch due reminders, send notifications, and update their status.", "external_files": ["db", "utils"], "external_methods": ["db.get_due_unsent_reminders", "db.mark_reminder_sent", "log", "notify_placeholder"], "published": ["start_scheduler_once", "update_scheduler_config", "stop_scheduler"], "classes": [], "methods": [{"name": "None _loop()", "description": "Background thread loop that periodically fetches due reminders and triggers notifications.", "scope": "", "scopeKind": ""}, {"name": "None start_scheduler_once(interval_seconds: int = 60, notifications_enabled: bool = True)", "description": "Starts the scheduler in a daemon thread with specified interval and notification setting; updates existing thread if already running.", "scope": "", "scopeKind": ""}, {"name": "None update_scheduler_config(interval_seconds: Optional[int] = None, notifications_enabled: Optional[bool] = None)", "description": "Updates the scheduler's runtime configuration parameters in a thread-safe manner.", "scope": "", "scopeKind": ""}, {"name": "None stop_scheduler()", "description": "Signals the scheduler thread to stop and waits for its termination.", "scope": "", "scopeKind": ""}], "calls": ["log", "db.get_due_unsent_reminders", "db.mark_reminder_sent", "notify_placeholder", "threading.Lock", "threading.Thread", "_stop_event.wait", "max", "_stop_event.set", "_stop_event.is_set", "_scheduler_thread.join"], "search-terms": ["scheduler thread", "reminder notifications", "background reminder loop", "thread-safe scheduler config", "reminder task scheduling"], "state": 2, "file_id": 7, "knowledge_revision": 25, "git_revision": "ba4a713186061856c5a4d88414666dd1bbc3d686", "revision_history": [{"15": ""}, {"25": "ba4a713186061856c5a4d88414666dd1bbc3d686"}], "ctags": [{"_type": "tag", "name": "_config_lock", "path": "/home/kavia/workspace/code-generation/student-task-scheduler-and-reminder-176128-176137/task_scheduler_backend/streamlit_app/scheduler.py", "pattern": "/^_config_lock = threading.Lock()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "_interval_seconds", "path": "/home/kavia/workspace/code-generation/student-task-scheduler-and-reminder-176128-176137/task_scheduler_backend/streamlit_app/scheduler.py", "pattern": "/^_interval_seconds: int = 60$/", "language": "Python", "typeref": "typename:int", "kind": "variable"}, {"_type": "tag", "name": "_loop", "path": "/home/kavia/workspace/code-generation/student-task-scheduler-and-reminder-176128-176137/task_scheduler_backend/streamlit_app/scheduler.py", "pattern": "/^def _loop() -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "_notifications_enabled", "path": "/home/kavia/workspace/code-generation/student-task-scheduler-and-reminder-176128-176137/task_scheduler_backend/streamlit_app/scheduler.py", "pattern": "/^_notifications_enabled: bool = True$/", "language": "Python", "typeref": "typename:bool", "kind": "variable"}, {"_type": "tag", "name": "_scheduler_lock", "path": "/home/kavia/workspace/code-generation/student-task-scheduler-and-reminder-176128-176137/task_scheduler_backend/streamlit_app/scheduler.py", "pattern": "/^_scheduler_lock = threading.Lock()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "_scheduler_thread", "path": "/home/kavia/workspace/code-generation/student-task-scheduler-and-reminder-176128-176137/task_scheduler_backend/streamlit_app/scheduler.py", "pattern": "/^_scheduler_thread: Optional[threading.Thread] = None$/", "language": "Python", "typeref": "typename:Optional[threading.Thread]", "kind": "variable"}, {"_type": "tag", "name": "_stop_event", "path": "/home/kavia/workspace/code-generation/student-task-scheduler-and-reminder-176128-176137/task_scheduler_backend/streamlit_app/scheduler.py", "pattern": "/^_stop_event = threading.Event()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "start_scheduler_once", "path": "/home/kavia/workspace/code-generation/student-task-scheduler-and-reminder-176128-176137/task_scheduler_backend/streamlit_app/scheduler.py", "pattern": "/^def start_scheduler_once(interval_seconds: int = 60, notifications_enabled: bool = True) -> None/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "(interval_seconds: int = 60, notifications_enabled: bool = True)"}, {"_type": "tag", "name": "stop_scheduler", "path": "/home/kavia/workspace/code-generation/student-task-scheduler-and-reminder-176128-176137/task_scheduler_backend/streamlit_app/scheduler.py", "pattern": "/^def stop_scheduler() -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "update_scheduler_config", "path": "/home/kavia/workspace/code-generation/student-task-scheduler-and-reminder-176128-176137/task_scheduler_backend/streamlit_app/scheduler.py", "pattern": "/^def update_scheduler_config(interval_seconds: Optional[int] = None, notifications_enabled: Optio/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "(interval_seconds: Optional[int] = None, notifications_enabled: Optional[bool] = None)"}], "hash": "48b10236af5a8b15b36f41c8777ab49b", "format-version": 4, "code-base-name": "task_scheduler_backend", "filename": "task_scheduler_backend/streamlit_app/scheduler.py", "fields": [{"name": "_config_lock = threading.Lock()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int _interval_seconds", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "bool _notifications_enabled", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "_scheduler_lock = threading.Lock()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Optional[threading.Thread] _scheduler_thread", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "_stop_event = threading.Event()", "scope": "", "scopeKind": "", "description": "unavailable"}]}